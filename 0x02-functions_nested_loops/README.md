this is a nested function and prototypes
